name: Google Chat Notification

on:
  # Issueã®ä½œæˆãƒ»æ›´æ–°æ™‚ã€ãŠã‚ˆã³ãƒ¡ã‚¤ãƒ³ãƒ–ãƒ©ãƒ³ãƒã¸ã®Pushæ™‚ã«å®Ÿè¡Œ
  issues:
    types: [opened, edited, reopened]
  push:
    branches: [ "main" ]

jobs:
  notify:
    runs-on: ubuntu-latest
    steps:
      - name: Google Chat Notification
        uses: akira-k0/google-chat-notification@v1.1.0
        with:
          # GitHubã®Settings > Secrets > Actions ã«ç™»éŒ²ã—ãŸåå‰
          url: ${{ secrets.GOOGLE_CHAT_WEBHOOK }}
          
          # é€šçŸ¥ã®ã‚¿ã‚¤ãƒˆãƒ«
          title: 'ğŸ“‹ GitHubãƒªãƒã‚¸ãƒˆãƒªãŒæ›´æ–°ã•ã‚Œã¾ã—ãŸ'
          
          # é€šçŸ¥ã®ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ï¼ˆMarkdownãŒä¸€éƒ¨ä½¿ãˆã¾ã™ï¼‰
          content: |
            **ã‚¤ãƒ™ãƒ³ãƒˆ:** ${{ github.event_name }}
            **å®Ÿè¡Œè€…:** ${{ github.actor }}
            **ãƒªãƒã‚¸ãƒˆãƒª:** ${{ github.repository }}
            **è©³ç´°URL:** ${{ github.event.issue.html_url || github.event.compare }}
          
          # ã‚¸ãƒ§ãƒ–ã®æˆå¦ã«å¿œã˜ã¦è‰²ã‚’å¤‰ãˆã‚‹è¨­å®š
          status: ${{ job.status }}
