name: Issue Notification
on:
  issues:
    types: [opened, edited, closed, reopened]
  issue_comment:
    types: [created]

jobs:
  notify:
    runs-on: ubuntu-latest
    steps:
      - name: Send Google Chat Notification
        uses: SimonScholz/google-chat-action@main
        with:
          webhookUrl: ${{ secrets.GOOGLE_CHAT_WEBHOOK }}
          # ã‚«ãƒ¼ãƒ‰ã®ãƒ¡ã‚¤ãƒ³ã‚¿ã‚¤ãƒˆãƒ«
          title: "ğŸ“‹ Issueæ›´æ–°: ${{ github.event.issue.title }}"
          # ã‚µãƒ–ã‚¿ã‚¤ãƒˆãƒ«ã«å®Ÿè¡Œè€…ã¨ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’è¡¨ç¤º
          subtitle: "å®Ÿè¡Œè€…: ${{ github.actor }} (${{ github.event.action }})"
          # ã€ã“ã“ãŒé‡è¦ã€‘æœ¬æ–‡ã‚’ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆã¨ã—ã¦è¿½åŠ ã—ã¾ã™
          additionalSections: |
            [
              {
                "widgets": [
                  {
                    "textParagraph": {
                      "text": "<b>ã€å†…å®¹ã€‘</b><br>${{ github.event.issue.body || github.event.comment.body }}"
                    }
                  }
                ]
              }
            ]
