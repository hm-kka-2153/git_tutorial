name: Issue Notification
on:
  issues:
    types: [opened, edited, closed, reopened]
  issue_comment:
    types: [created]

jobs:
  notify:
    runs-on: ubuntu-latest
    steps:
      - name: Send Google Chat Notification
        uses: SimonScholz/google-chat-action@main
        with:
          webhookUrl: ${{ secrets.GOOGLE_CHAT_WEBHOOK }}
          # ä¸è¦ãªãƒªãƒã‚¸ãƒˆãƒªæƒ…å ±ã‚’æ¶ˆã™
          createDefaultSection: false
          # ã‚¿ã‚¤ãƒˆãƒ«ã‚’è¨­å®š
          title: "ğŸ“‹ Issueæ›´æ–°: ${{ github.event.issue.title }}"
          # ã€é‡è¦ã€‘additionalSections ã§ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆã¨ã—ã¦æ”¹è¡Œã‚’å¼·åˆ¶ã™ã‚‹
          additionalSections: |
            [
              {
                "widgets": [
                  {
                    "textParagraph": {
                      "text": "ğŸ‘¤ <b>å®Ÿè¡Œè€…</b><br>${{ github.actor }} (${{ github.event.action }})<br><br>ğŸ“ <b>å†…å®¹</b><br>${{ github.event.issue.body || github.event.comment.body }}<br><br>ğŸ”— <b>URL</b><br><a href='${{ github.event.issue.html_url }}'>Issueã‚’é–‹ã</a>"
                    }
                  }
                ]
              }
            ]
